{"version":3,"sources":["lib/Types.ts","lib/RenderContext.ts","lib/RenderManager.ts","lib/components/Canvas.tsx","lib/RenderObject.ts","lib/utils.ts","lib/components/Rect.tsx","lib/components/Arc.tsx","lib/components/Line.tsx","lib/components/Text.tsx","components/Input.tsx","components/Modal.tsx","components/CreateRectModal.tsx","components/CreateLineModal.tsx","components/CreateArcModal.tsx","components/CreateTextModal.tsx","components/Controls.tsx","assets/close.png","components/TextControls.tsx","components/LineControls.tsx","components/ArcControls.tsx","components/RectControls.tsx","components/ControlsSelector.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["RenderObjectTypes","RenderContext","createContext","RenderManager","ctx","objects","this","object","index","findIndex","id","push","draw","eventName","event","nativeEvent","offsetX","offsetY","i","length","eventHandler","events","path","pointInPath","isPointInPath","pointInStroke","isPointInStroke","type","eventType","clear","resetStyle","strokeStyle","fillStyle","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","clearRect","canvas","width","height","Canvas","children","canvasRef","useRef","useState","setCtx","renderManager","useMemo","useEffect","current","currentCtx","getContext","rect","getBoundingClientRect","ref","style","onClick","onEvent","onContextMenu","onDoubleClick","onMouseDown","onMouseUp","onPointerDown","Provider","value","RenderObject","params","getEventHandlersFromProps","props","propName","slice","drawAtCanvas","stroke","fill","Rect","x","y","useContext","ID","nanoid","Path2D","renderObject","RECT","addObject","Arc","radius","startAngle","endAngle","anticlockwise","ARC","arc","Line","x1","y1","x2","y2","LINE","moveTo","lineTo","Text","text","font","TEXT","measureText","actualBoundingBoxAscent","fillText","strokeText","Input","label","onChange","onChecked","e","target","checked","Modal","title","onHide","className","stopPropagation","rectState","rectReducer","state","action","payload","Error","CreateRectModal","onCreate","useReducer","rectDispatch","onChangeRect","onSubmit","preventDefault","String","Number","lineState","lineReducer","CreateLineModal","line","lineDispatch","arcState","arcReducer","CreateArcModal","arcDispatch","textState","textReducer","CreateTextModal","textDispatch","Controls","src","alt","TextControls","onModifyObject","LineControls","ArcControls","RectControls","ControlsSelector","App","setObjects","selectedObjectIndex","selectObject","createModal","setCreateModal","onSelect","canvasObject","console","log","hideModal","selectedObject","undefined","cloneObjects","map","o","onMouseMove","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.757e2338.chunk.js","sourcesContent":["import {MouseEvent, PointerEvent} from \"react\";\n\nimport {IRenderObject} from \"./RenderObject\";\nimport {RectProps} from \"./components/Rect\";\nimport {ArcProps} from \"./components/Arc\";\nimport {LineProps} from \"./components/Line\";\nimport {TextProps} from \"./components/Text\";\n\nexport type EventName = keyof Events;\nexport type Event = MouseEvent | PointerEvent;\nexport type EventRenderObject = Pick<IRenderObject, \"id\" | \"type\"> & { event: Event, eventType: EventName };\n\nexport type Params = RectParams | ArcParams | LineParams | TextParams;\nexport type RectParams = Pick<RectProps, \"stroke\" | \"fill\">;\nexport type ArcParams = Pick<ArcProps, \"stroke\" | \"fill\">;\nexport type LineParams = Pick<LineProps, \"stroke\" | \"fill\">;\nexport type TextParams = Pick<TextProps, \"stroke\" | \"fill\">;\n\nexport enum RenderObjectTypes {\n    TEXT = \"TEXT\",\n    ARC = \"ARC\",\n    RECT = \"RECT\",\n    LINE = \"LINE\"\n}\n\nexport interface Events {\n    onAuxClick?: (object: EventRenderObject) => void;\n    onAuxClickCapture?: (object: EventRenderObject) => void;\n    onClick?: (object: EventRenderObject) => void;\n    onClickCapture?: (object: EventRenderObject) => void;\n    onContextMenu?: (object: EventRenderObject) => void;\n    onContextMenuCapture?: (object: EventRenderObject) => void;\n    onDoubleClick?: (object: EventRenderObject) => void;\n    onDoubleClickCapture?: (object: EventRenderObject) => void;\n    onMouseDown?: (object: EventRenderObject) => void;\n    onMouseDownCapture?: (object: EventRenderObject) => void;\n    onMouseEnter?: (object: EventRenderObject) => void;\n    onMouseLeave?: (object: EventRenderObject) => void;\n    onMouseMove?: (object: EventRenderObject) => void;\n    onMouseMoveCapture?: (object: EventRenderObject) => void;\n    onMouseOut?: (object: EventRenderObject) => void;\n    onMouseOutCapture?: (object: EventRenderObject) => void;\n    onMouseOver?: (object: EventRenderObject) => void;\n    onMouseOverCapture?: (object: EventRenderObject) => void;\n    onMouseUp?: (object: EventRenderObject) => void;\n    onMouseUpCapture?: (object: EventRenderObject) => void;\n    onPointerDown?: (object: EventRenderObject) => void;\n    onPointerDownCapture?: (object: EventRenderObject) => void;\n    onPointerMove?: (object: EventRenderObject) => void;\n    onPointerMoveCapture?: (object: EventRenderObject) => void;\n    onPointerUp?: (object: EventRenderObject) => void;\n    onPointerUpCapture?: (object: EventRenderObject) => void;\n    onPointerCancel?: (object: EventRenderObject) => void;\n    onPointerCancelCapture?: (object: EventRenderObject) => void;\n    onPointerEnter?: (object: EventRenderObject) => void;\n    onPointerEnterCapture?: (object: EventRenderObject) => void;\n    onPointerLeave?: (object: EventRenderObject) => void;\n    onPointerLeaveCapture?: (object: EventRenderObject) => void;\n    onPointerOver?: (object: EventRenderObject) => void;\n    onPointerOverCapture?: (object: EventRenderObject) => void;\n    onPointerOut?: (object: EventRenderObject) => void;\n    onPointerOutCapture?: (object: EventRenderObject) => void;\n    onGotPointerCapture?: (object: EventRenderObject) => void;\n    onGotPointerCaptureCapture?: (object: EventRenderObject) => void;\n    onLostPointerCapture?: (object: EventRenderObject) => void;\n    onLostPointerCaptureCapture?: (object: EventRenderObject) => void;\n}\n","import {createContext} from \"react\";\n\nimport {IRenderManager} from \"./RenderManager\";\n\nexport const RenderContext = createContext<IRenderManager | null>(null);","import {IRenderObject} from \"./RenderObject\";\nimport {EventName, Event} from \"./Types\";\n\nexport interface IRenderManager {\n    addObject: (pipe: IRenderObject) => void;\n    onEvent: (eventName: EventName) => (event: Event) => void;\n}\n\nexport class RenderManager implements IRenderManager {\n    private readonly ctx: CanvasRenderingContext2D;\n    private readonly objects: Array<IRenderObject>;\n\n    constructor(ctx: CanvasRenderingContext2D) {\n        this.ctx = ctx;\n        this.objects = [];\n    }\n\n    addObject(object: IRenderObject): void {\n        const NON_EXIST_INDEX = -1;\n        const index = this.objects.findIndex(({id}) => id === object.id);\n        if (index === NON_EXIST_INDEX) {\n            this.objects.push(object);\n        } else {\n            this.objects[index] = object;\n        }\n        this.draw();\n    }\n\n    onEvent(eventName: EventName): (event: Event) => void {\n        return (event: Event): void => {\n            const {\n                offsetX,\n                offsetY\n            } = event.nativeEvent;\n            for (let i = 0; i < this.objects.length; i++) {\n                const object = this.objects[i];\n                const eventHandler = object.events[eventName];\n                if (object.path && eventHandler) {\n                    const pointInPath = this.ctx.isPointInPath(object.path, offsetX, offsetY);\n                    const pointInStroke = this.ctx.isPointInStroke(object.path, offsetX, offsetY);\n                    if (pointInPath || pointInStroke) {\n                        eventHandler({\n                            id: object.id,\n                            type: object.type,\n                            eventType: eventName,\n                            event\n                        });\n                    }\n                }\n            }\n        };\n    }\n\n    private draw() {\n        this.clear();\n        for (let i = 0; i < this.objects.length; i++) {\n            const object = this.objects[i];\n            this.resetStyle();\n            object.draw(this.ctx);\n        }\n    }\n\n    private resetStyle() {\n        this.ctx.strokeStyle = \"#000\";\n        this.ctx.fillStyle = \"#000\";\n        this.ctx.lineCap = \"butt\";\n        this.ctx.lineDashOffset = 0.0;\n        this.ctx.lineJoin = \"miter\";\n        this.ctx.lineWidth = 1.0;\n        this.ctx.miterLimit = 10.0;\n    }\n\n    private clear() {\n        const X_START = 0;\n        const Y_START = 0;\n        this.ctx.clearRect(X_START, Y_START, this.ctx.canvas.width, this.ctx.canvas.height);\n    }\n}","import React, {FC, useEffect, useMemo, useRef, useState} from \"react\";\n\nimport {RenderContext} from \"../RenderContext\";\nimport {RenderManager} from \"../RenderManager\";\nimport {Events} from \"../Types\";\n\nexport interface BaseProps extends Events {\n    stroke?: string;\n    fill?: string;\n    lineCap?: CanvasLineCap;\n    lineDashOffset?: number;\n    lineJoin?: CanvasLineJoin;\n    lineWidth?: number;\n    miterLimit?: number;\n}\n\nconst Canvas: FC = ({children}) => {\n    const canvasRef = useRef<HTMLCanvasElement | null>(null);\n    const [ctx, setCtx] = useState<CanvasRenderingContext2D | null>(null);\n    const renderManager = useMemo(() => {\n        if (ctx !== null) {\n            return new RenderManager(ctx);\n        }\n        return null;\n    }, [ctx]);\n    useEffect(() => {\n        if (canvasRef.current) {\n            const currentCtx = canvasRef.current.getContext(\"2d\");\n            if (currentCtx) {\n                const rect = canvasRef.current.getBoundingClientRect();\n                canvasRef.current.width = rect.width;\n                canvasRef.current.height = rect.height;\n                setCtx(currentCtx);\n            }\n        }\n    }, []);\n    return (\n        <>\n            <canvas ref={canvasRef}\n                    style={{\n                        width: \"100%\",\n                        height: \"100%\"\n                    }}\n                    // onAuxClick={renderManager?.onEvent(\"onAuxClick\")}\n                    // onAuxClickCapture={renderManager?.onEvent(\"onAuxClickCapture\")}\n                    onClick={renderManager?.onEvent(\"onClick\")}\n                    // onClickCapture={renderManager?.onEvent(\"onClickCapture\")}\n                    onContextMenu={renderManager?.onEvent(\"onContextMenu\")}\n                    // onContextMenuCapture={renderManager?.onEvent(\"onContextMenuCapture\")}\n                    onDoubleClick={renderManager?.onEvent(\"onDoubleClick\")}\n                    // onDoubleClickCapture={renderManager?.onEvent(\"onDoubleClickCapture\")}\n                    onMouseDown={renderManager?.onEvent(\"onMouseDown\")}\n                    // onMouseDownCapture={renderManager?.onEvent(\"onMouseDownCapture\")}\n                    // onMouseEnter={renderManager?.onEvent(\"onMouseEnter\")}\n                    // onMouseLeave={renderManager?.onEvent(\"onMouseLeave\")}\n                    // onMouseMove={renderManager?.onEvent(\"onMouseMove\")}\n                    // onMouseMoveCapture={renderManager?.onEvent(\"onMouseMoveCapture\")}\n                    // onMouseOut={renderManager?.onEvent(\"onMouseOut\")}\n                    // onMouseOutCapture={renderManager?.onEvent(\"onMouseOutCapture\")}\n                    // onMouseOver={renderManager?.onEvent(\"onMouseOver\")}\n                    // onMouseOverCapture={renderManager?.onEvent(\"onMouseOverCapture\")}\n                    onMouseUp={renderManager?.onEvent(\"onMouseUp\")}\n                    // onMouseUpCapture={renderManager?.onEvent(\"onMouseUpCapture\")}\n                    onPointerDown={renderManager?.onEvent(\"onPointerDown\")}\n                    // onPointerDownCapture={renderManager?.onEvent(\"onPointerDownCapture\")}\n                    // onPointerMove={renderManager?.onEvent(\"onPointerMove\")}\n                    // onPointerMoveCapture={renderManager?.onEvent(\"onPointerMoveCapture\")}\n                    // onPointerUp={renderManager?.onEvent(\"onPointerUp\")}\n                    // onPointerUpCapture={renderManager?.onEvent(\"onPointerUpCapture\")}\n                    // onPointerCancel={renderManager?.onEvent(\"onPointerCancel\")}\n                    // onPointerCancelCapture={renderManager?.onEvent(\"onPointerCancelCapture\")}\n                    // onPointerEnter={renderManager?.onEvent(\"onPointerEnter\")}\n                    // onPointerEnterCapture={renderManager?.onEvent(\"onPointerEnterCapture\")}\n                    // onPointerLeave={renderManager?.onEvent(\"onPointerLeave\")}\n                    // onPointerLeaveCapture={renderManager?.onEvent(\"onPointerLeaveCapture\")}\n                    // onPointerOver={renderManager?.onEvent(\"onPointerOver\")}\n                    // onPointerOverCapture={renderManager?.onEvent(\"onPointerOverCapture\")}\n                    // onPointerOut={renderManager?.onEvent(\"onPointerOut\")}\n                    // onPointerOutCapture={renderManager?.onEvent(\"onPointerOutCapture\")}\n                    // onGotPointerCapture={renderManager?.onEvent(\"onGotPointerCapture\")}\n                    // onGotPointerCaptureCapture={renderManager?.onEvent(\"onGotPointerCaptureCapture\")}\n                    // onLostPointerCapture={renderManager?.onEvent(\"onLostPointerCapture\")}\n                    // onLostPointerCaptureCapture={renderManager?.onEvent(\"onLostPointerCaptureCapture\")}\n            >\n                Извините, ваш браузер нет поддерживает&lt;canvas&gt; элемент.\n            </canvas>\n            {ctx ? <RenderContext.Provider value={renderManager}>{children}</RenderContext.Provider> : null}\n        </>\n    );\n};\n\nexport default Canvas;","import {Events, Params, RenderObjectTypes} from \"./Types\";\n\nexport interface IRenderObject {\n    id: string;\n    type: RenderObjectTypes,\n    draw: (ctx: CanvasRenderingContext2D) => void;\n    path: Path2D;\n    events: Events;\n    params: Params;\n}\n\nexport class RenderObject implements IRenderObject {\n    id: string;\n    type: RenderObjectTypes;\n    draw: (ctx: CanvasRenderingContext2D) => void;\n    path: Path2D;\n    events: Events;\n    params: Params;\n\n    constructor(\n        id: string,\n        type: RenderObjectTypes,\n        draw: (ctx: CanvasRenderingContext2D) => void,\n        path: Path2D,\n        events: Events,\n        params: Params\n    ) {\n        this.id = id;\n        this.type = type;\n        this.draw = draw;\n        this.path = path;\n        this.events = events;\n        this.params = params;\n    }\n}","import {Events} from \"./Types\";\n\nexport function getEventHandlersFromProps<T>(props: T): Events {\n    const events: Events = {};\n    const eventPrefix = \"on\";\n    for (const propName in props) {\n        if (propName.slice(0, 2) === eventPrefix) {\n            // @ts-ignore\n            events[propName] = props[propName];\n        }\n    }\n    return events;\n}\n\nexport function drawAtCanvas(ctx: CanvasRenderingContext2D, path: Path2D, stroke?: string, fill?: string): void {\n    if (fill) {\n        ctx.fillStyle = fill;\n        ctx.fill(path);\n    }\n    if (stroke) {\n        ctx.strokeStyle = stroke;\n        ctx.stroke(path);\n    }\n}","import {FC, useContext, useEffect, useRef} from \"react\";\nimport {nanoid} from \"nanoid\";\n\nimport {RenderContext} from \"../RenderContext\";\nimport {BaseProps} from \"./Canvas\";\nimport {RenderObject} from \"../RenderObject\";\nimport {drawAtCanvas, getEventHandlersFromProps} from \"../utils\";\nimport {RenderObjectTypes} from \"../Types\";\n\nexport interface RectProps extends BaseProps {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n}\n\nconst Rect: FC<RectProps> = (props) => {\n    const {\n        x,\n        y,\n        width,\n        height,\n        stroke,\n        fill\n    } = props;\n    const renderManager = useContext(RenderContext);\n    const ID = useRef(nanoid());\n    const events = getEventHandlersFromProps<RectProps>(props);\n    useEffect(() => {\n        const path = new Path2D();\n        const params = {\n            x,\n            y,\n            width,\n            height,\n            stroke,\n            fill\n        };\n        const draw = (ctx: CanvasRenderingContext2D) => {\n            path.rect(x, y, width, height);\n            drawAtCanvas(ctx, path, stroke, fill);\n        };\n        const renderObject = new RenderObject(ID.current, RenderObjectTypes.RECT, draw, path, events, params);\n        renderManager?.addObject(renderObject);\n    }, [events, fill, height, renderManager, stroke, width, x, y]);\n    return null;\n};\n\nexport default Rect;","import {FC, useContext, useEffect, useRef} from \"react\";\nimport {nanoid} from \"nanoid\";\n\nimport {BaseProps} from \"./Canvas\";\nimport {RenderContext} from \"../RenderContext\";\nimport {RenderObject} from \"../RenderObject\";\nimport {drawAtCanvas, getEventHandlersFromProps} from \"../utils\";\nimport {RenderObjectTypes} from \"../Types\";\n\nexport interface ArcProps extends BaseProps {\n    x: number;\n    y: number;\n    radius: number;\n    startAngle: number;\n    endAngle: number;\n    anticlockwise?: boolean;\n}\n\nconst Arc: FC<ArcProps> = (props) => {\n    const {\n        x,\n        y,\n        radius,\n        startAngle,\n        endAngle,\n        anticlockwise,\n        stroke,\n        fill\n    } = props;\n    const renderManager = useContext(RenderContext);\n    const ID = useRef(nanoid());\n    const events = getEventHandlersFromProps<ArcProps>(props);\n    useEffect(() => {\n        const path = new Path2D();\n        const params = {\n            x,\n            y,\n            radius,\n            startAngle,\n            endAngle,\n            anticlockwise,\n            stroke,\n            fill\n        };\n        const draw = (ctx: CanvasRenderingContext2D) => {\n            path.arc(x, y, radius, startAngle, endAngle, anticlockwise);\n            drawAtCanvas(ctx, path, stroke, fill);\n        };\n        renderManager?.addObject(new RenderObject(ID.current, RenderObjectTypes.ARC, draw, path, events, params));\n    }, [anticlockwise, endAngle, events, fill, radius, renderManager, startAngle, stroke, x, y]);\n    return null;\n};\n\nexport default Arc;","import {FC, useContext, useEffect, useRef} from \"react\";\nimport {nanoid} from \"nanoid\";\n\nimport {RenderContext} from \"../RenderContext\";\nimport {RenderObject} from \"../RenderObject\";\nimport {BaseProps} from \"./Canvas\";\nimport {getEventHandlersFromProps} from \"../utils\";\nimport {RenderObjectTypes} from \"../Types\";\n\nexport interface LineProps extends BaseProps {\n    x1: number;\n    y1: number;\n    x2: number;\n    y2: number;\n}\n\nconst Line: FC<LineProps> = (props) => {\n    const {\n        x1,\n        y1,\n        x2,\n        y2,\n        stroke,\n        fill\n    } = props;\n    const renderManager = useContext(RenderContext);\n    const ID = useRef(nanoid());\n    const events = getEventHandlersFromProps<LineProps>(props);\n    useEffect(() => {\n        const path = new Path2D();\n        const params = {\n            x1,\n            y1,\n            x2,\n            y2,\n            stroke,\n            fill\n        };\n        const draw = (ctx: CanvasRenderingContext2D) => {\n            path.moveTo(x1, y1);\n            path.lineTo(x2, y2);\n            ctx.stroke(path);\n        };\n        renderManager?.addObject(new RenderObject(ID.current, RenderObjectTypes.LINE, draw, path, events, params));\n    }, [events, fill, renderManager, stroke, x1, x2, y1, y2]);\n    return null;\n};\n\nexport default Line;","import {FC, useContext, useEffect, useRef} from \"react\";\nimport {nanoid} from \"nanoid\";\n\nimport {RenderContext} from \"../RenderContext\";\nimport {BaseProps} from \"./Canvas\";\nimport {RenderObject} from \"../RenderObject\";\nimport {getEventHandlersFromProps} from \"../utils\";\nimport {RenderObjectTypes} from \"../Types\";\n\nexport interface TextProps extends BaseProps {\n    x: number;\n    y: number;\n    text: string;\n    font: string;\n}\n\nconst Text: FC<TextProps> = (props) => {\n    const {\n        x,\n        y,\n        text,\n        font,\n        stroke,\n        fill\n    } = props;\n    const renderManager = useContext(RenderContext);\n    const ID = useRef(nanoid());\n    const events = getEventHandlersFromProps<TextProps>(props);\n    useEffect(() => {\n        const path = new Path2D();\n        const params = {\n            x,\n            y,\n            text,\n            font,\n            stroke,\n            fill\n        };\n        const draw = (ctx: CanvasRenderingContext2D) => {\n            ctx.font = font;\n            const {\n                width,\n                actualBoundingBoxAscent\n            } = ctx.measureText(text);\n            path.rect(x, y - actualBoundingBoxAscent, width, actualBoundingBoxAscent);\n            if (fill) {\n                ctx.fillStyle = fill;\n                ctx.fillText(text, x, y);\n            }\n            if (stroke) {\n                ctx.strokeStyle = stroke;\n                ctx.strokeText(text, x, y);\n            }\n        };\n        renderManager?.addObject(new RenderObject(ID.current, RenderObjectTypes.TEXT, draw, path, events, params));\n    }, [events, fill, font, renderManager, stroke, text, x, y]);\n    return null;\n};\n\nexport default Text;","import React, {ChangeEvent, FC} from \"react\";\n\ninterface InputProps {\n    label: string;\n    type: string;\n    value: string;\n    onChange?: (value: string) => void;\n    onChecked?: (value: boolean) => void;\n}\n\nconst Input: FC<InputProps> = ({\n                                   label,\n                                   type,\n                                   value,\n                                   onChange,\n                                   onChecked\n                               }) => {\n    const handleChange = (e: ChangeEvent) => {\n        if (e.type === \"checkbox\") {\n            onChecked && onChecked((e.target as HTMLInputElement).checked)\n        } else {\n            onChange && onChange((e.target as HTMLInputElement).value);\n        }\n    }\n    return (\n        <label>\n            <span>{label}</span>\n            <input type={type} value={value} onChange={handleChange}/>\n        </label>\n    );\n};\n\nexport default Input;","import React, {FC} from \"react\";\n\ninterface ModalProps {\n    title: string;\n    onHide: () => void;\n}\n\nconst Modal: FC<ModalProps> = ({\n                                   title,\n                                   children,\n                                   onHide\n                               }) => {\n    return (\n        <div className=\"modal\" onClick={onHide}>\n            <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\n                <h6>{title}</h6>\n                {children}\n            </div>\n        </div>\n    );\n};\n\nexport default Modal;","import React, {FC, FormEvent, useReducer} from \"react\";\n\nimport Input from \"./Input\";\nimport Modal from \"./Modal\";\nimport {RenderObjectTypes} from \"../lib\";\n\nexport type RectState = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    stroke: string;\n    fill: string;\n    type: RenderObjectTypes.RECT\n};\ntype Action = { type: string, payload: object };\n\nconst rectState: RectState = {\n    x: 0,\n    y: 0,\n    width: 100,\n    height: 100,\n    stroke: \"\",\n    fill: \"#004cff\",\n    type: RenderObjectTypes.RECT\n};\n\nfunction rectReducer(state: RectState, action: Action): RectState {\n    switch (action.type) {\n        case \"setParams\":\n            return {...state, ...action.payload};\n        default:\n            throw new Error();\n    }\n}\n\ninterface CreateRectModalProps {\n    onCreate: (rect: RectState) => void;\n    onHide: () => void;\n}\n\nexport const CreateRectModal: FC<CreateRectModalProps> = ({\n                                                              onCreate,\n                                                              onHide\n                                                          }) => {\n    const [rect, rectDispatch] = useReducer(rectReducer, rectState);\n    const addRect = (e: FormEvent) => {\n        e.preventDefault();\n        onCreate(rect);\n        onHide();\n    };\n    const onChangeRect = (params: object) => rectDispatch({\n        type: \"setParams\",\n        payload: {...rect, ...params}\n    });\n    const changeX = (x: string) => onChangeRect({x: Number(x)});\n    const changeY = (y: string) => onChangeRect({y: Number(y)});\n    const changeWidth = (width: string) => onChangeRect({width: Number(width)});\n    const changeHeight = (height: string) => onChangeRect({height: Number(height)});\n    const changeStroke = (stroke: string) => onChangeRect({stroke: stroke});\n    const changeFill = (fill: string) => onChangeRect({fill: fill});\n    return (\n        <Modal title=\"Set Rect Params\" onHide={onHide}>\n            <form onSubmit={addRect}>\n                <Input label=\"x\" type=\"number\" value={String(rect.x)} onChange={changeX}/>\n                <Input label=\"y\" type=\"number\" value={String(rect.y)} onChange={changeY}/>\n                <Input label=\"width\" type=\"number\" value={String(rect.width)} onChange={changeWidth}/>\n                <Input label=\"height\" type=\"number\" value={String(rect.height)} onChange={changeHeight}/>\n                <Input label=\"stroke\" type=\"color\" value={String(rect.stroke)} onChange={changeStroke}/>\n                <Input label=\"fill\" type=\"color\" value={String(rect.fill)} onChange={changeFill}/>\n                <button type=\"submit\">Add Rect</button>\n            </form>\n        </Modal>\n    );\n};","import React, {FC, FormEvent, useReducer} from \"react\";\n\nimport Input from \"./Input\";\nimport Modal from \"./Modal\";\nimport {RenderObjectTypes} from \"../lib/Types\";\n\nexport type LineState = {\n    x1: number;\n    y1: number;\n    x2: number;\n    y2: number;\n    stroke: string;\n    fill: string;\n    type: RenderObjectTypes.LINE\n};\ntype Action = { type: string, payload: object };\n\n\nconst lineState: LineState = {\n    x1: 0,\n    y1: 0,\n    x2: 100,\n    y2: 100,\n    stroke: \"#004cff\",\n    fill: \"\",\n    type: RenderObjectTypes.LINE\n};\n\nfunction lineReducer(state: LineState, action: Action) {\n    switch (action.type) {\n        case \"setParams\":\n            return {...state, ...action.payload};\n        default:\n            throw new Error();\n    }\n}\n\ninterface CreateLineModalProps {\n    onCreate: (line: LineState) => void;\n    onHide: () => void;\n}\n\nexport const CreateLineModal: FC<CreateLineModalProps> = ({\n                                                              onCreate,\n                                                              onHide\n                                                          }) => {\n    const [line, lineDispatch] = useReducer(lineReducer, lineState);\n    const addLine = (e: FormEvent) => {\n        e.preventDefault();\n        onCreate(line);\n        onHide();\n    };\n    const onChangeRect = (params: object) => lineDispatch({\n        type: \"setParams\",\n        payload: {...line, ...params}\n    });\n    const changeX1 = (x1: string) => onChangeRect({x1: Number(x1)});\n    const changeY1 = (y1: string) => onChangeRect({y1: Number(y1)});\n    const changeX2 = (x2: string) => onChangeRect({x2: Number(x2)});\n    const changeY2 = (y2: string) => onChangeRect({y2: Number(y2)});\n    const changeStroke = (stroke: string) => onChangeRect({stroke: stroke});\n    const changeFill = (fill: string) => onChangeRect({fill: fill});\n    return (\n        <Modal title=\"Set Line Params\" onHide={onHide}>\n            <form onSubmit={addLine}>\n                <Input label=\"x1\" type=\"number\" value={String(line.x1)} onChange={changeX1}/>\n                <Input label=\"y1\" type=\"number\" value={String(line.y1)} onChange={changeY1}/>\n                <Input label=\"x2\" type=\"number\" value={String(line.x2)} onChange={changeX2}/>\n                <Input label=\"y2\" type=\"number\" value={String(line.y2)} onChange={changeY2}/>\n                <Input label=\"stroke\" type=\"color\" value={String(line.stroke)} onChange={changeStroke}/>\n                <Input label=\"fill\" type=\"color\" value={String(line.fill)} onChange={changeFill}/>\n                <button type=\"submit\">Add Line</button>\n            </form>\n        </Modal>\n    );\n};","import React, {FC, FormEvent, useReducer} from \"react\";\n\nimport Input from \"./Input\";\nimport Modal from \"./Modal\";\nimport {RenderObjectTypes} from \"../lib/Types\";\n\nexport type ArcState = {\n    x: number;\n    y: number;\n    radius: number;\n    startAngle: number;\n    endAngle: number;\n    anticlockwise: boolean;\n    stroke: string;\n    fill: string;\n    type: RenderObjectTypes.ARC\n}\ntype Action = { type: string, payload: object };\n\nconst arcState: ArcState = {\n    x: 0,\n    y: 0,\n    radius: 100,\n    startAngle: 0,\n    endAngle: 360,\n    anticlockwise: false,\n    stroke: \"\",\n    fill: \"#004cff\",\n    type: RenderObjectTypes.ARC\n};\n\nfunction arcReducer(state: ArcState, action: Action) {\n    switch (action.type) {\n        case \"setParams\":\n            return {...state, ...action.payload};\n        default:\n            throw new Error();\n    }\n}\n\ninterface CreateArcModalProps {\n    onCreate: (rect: ArcState) => void;\n    onHide: () => void;\n}\n\nexport const CreateArcModal: FC<CreateArcModalProps> = ({\n                                                            onCreate,\n                                                            onHide\n                                                        }) => {\n    const [arc, arcDispatch] = useReducer(arcReducer, arcState);\n    const addArc = (e: FormEvent) => {\n        e.preventDefault();\n        onCreate(arc);\n        onHide();\n    };\n    const onChangeRect = (params: object) => arcDispatch({\n        type: \"setParams\",\n        payload: {...arc, ...params}\n    });\n    const changeX = (x: string) => onChangeRect({x: Number(x)});\n    const changeY = (y: string) => onChangeRect({y: Number(y)});\n    const changeRadius = (radius: string) => onChangeRect({radius: Number(radius)});\n    const changeStartAngle = (startAngle: string) => onChangeRect({startAngle: Number(startAngle)});\n    const changeEndAngle = (endAngle: string) => onChangeRect({endAngle: Number(endAngle)});\n    const changeAnticlockwise = (anticlockwise: boolean) => onChangeRect({anticlockwise: anticlockwise});\n    const changeStroke = (stroke: string) => onChangeRect({stroke: stroke});\n    const changeFill = (fill: string) => onChangeRect({fill: fill});\n    return (\n        <Modal title=\"Set Arc Params\" onHide={onHide}>\n            <form onSubmit={addArc}>\n                <Input label=\"x\" type=\"number\" value={String(arc.x)} onChange={changeX}/>\n                <Input label=\"y\" type=\"number\" value={String(arc.y)} onChange={changeY}/>\n                <Input label=\"radius\" type=\"number\" value={String(arc.radius)} onChange={changeRadius}/>\n                <Input label=\"startAngle\" type=\"number\" value={String(arc.startAngle)} onChange={changeStartAngle}/>\n                <Input label=\"endAngle\" type=\"number\" value={String(arc.endAngle)} onChange={changeEndAngle}/>\n                <Input label=\"anticlockwise\" type=\"checkbox\" value={String(arc.anticlockwise)} onChecked={changeAnticlockwise}/>\n                <Input label=\"stroke\" type=\"color\" value={String(arc.stroke)} onChange={changeStroke}/>\n                <Input label=\"fill\" type=\"color\" value={String(arc.fill)} onChange={changeFill}/>\n                <button type=\"submit\">Add Arc</button>\n            </form>\n        </Modal>\n    );\n};","import React, {FC, FormEvent, useReducer} from \"react\";\n\nimport Input from \"./Input\";\nimport Modal from \"./Modal\";\nimport {RenderObjectTypes} from \"../lib/Types\";\n\nexport type TextState = {\n    x: number;\n    y: number;\n    text: string\n    font: string\n    stroke: string;\n    fill: string;\n    type: RenderObjectTypes.TEXT\n};\ntype Action = { type: string, payload: object };\n\nconst textState: TextState = {\n    x: 0,\n    y: 0,\n    text: 'text',\n    font: 'Arial',\n    stroke: \"\",\n    fill: \"#004cff\",\n    type: RenderObjectTypes.TEXT\n};\n\nfunction textReducer(state: TextState, action: Action) {\n    switch (action.type) {\n        case \"setParams\":\n            return {...state, ...action.payload};\n        default:\n            throw new Error();\n    }\n}\n\ninterface CreateTextModalProps {\n    onCreate: (text: TextState) => void;\n    onHide: () => void;\n}\n\nexport const CreateTextModal: FC<CreateTextModalProps> = ({\n                                                              onCreate,\n                                                              onHide\n                                                          }) => {\n    const [text, textDispatch] = useReducer(textReducer, textState);\n    const addRect = (e: FormEvent) => {\n        e.preventDefault();\n        onCreate(text);\n        onHide();\n    };\n    const onChangeRect = (params: object) => textDispatch({\n        type: \"setParams\",\n        payload: {...text, ...params}\n    });\n    const changeX = (x: string) => onChangeRect({x: Number(x)});\n    const changeY = (y: string) => onChangeRect({y: Number(y)});\n    const changeText = (text: string) => onChangeRect({text: text});\n    const changeFont = (font: string) => onChangeRect({font: font});\n    const changeStroke = (stroke: string) => onChangeRect({stroke: stroke});\n    const changeFill = (fill: string) => onChangeRect({fill: fill});\n    return (\n        <Modal title=\"Set Text Params\" onHide={onHide}>\n            <form onSubmit={addRect}>\n                <Input label=\"x\" type=\"number\" value={String(text.x)} onChange={changeX}/>\n                <Input label=\"y\" type=\"number\" value={String(text.y)} onChange={changeY}/>\n                <Input label=\"text\" type=\"text\" value={String(text.text)} onChange={changeText}/>\n                <Input label=\"font\" type=\"text\" value={String(text.font)} onChange={changeFont}/>\n                <Input label=\"stroke\" type=\"color\" value={String(text.stroke)} onChange={changeStroke}/>\n                <Input label=\"fill\" type=\"color\" value={String(text.fill)} onChange={changeFill}/>\n                <button type=\"submit\">Add Text</button>\n            </form>\n        </Modal>\n    );\n};","import React, {FC} from \"react\";\n\nimport closeIcon from '../assets/close.png';\n\ninterface ControlsProps {\n    title: string;\n    onHide: () => void;\n}\n\nconst Controls: FC<ControlsProps> = ({\n                                         title,\n                                         onHide,\n                                         children\n                                     }) => {\n    return (\n        <div className=\"controls\">\n            <img src={closeIcon} alt=\"Hide controls\" className=\"controls__hide-icon\" onClick={onHide}/>\n            <h5>{title}</h5>\n            {children}\n        </div>\n    );\n};\n\nexport default Controls;","export default \"data:image/png;base64,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\"","import React, {FC} from \"react\";\nimport Controls from \"./Controls\";\nimport Input from \"./Input\";\nimport {TextState} from \"./CreateTextModal\";\n\ninterface TextControlsProps {\n    object: TextState;\n    onModifyObject: (params: Partial<TextState>) => void;\n    onHide: () => void;\n}\n\nconst TextControls: FC<TextControlsProps> = ({\n                                                 object,\n                                                 onModifyObject,\n                                                 onHide\n                                             }) => {\n    const changeX = (x: string) => onModifyObject({x: Number(x)});\n    const changeY = (y: string) => onModifyObject({y: Number(y)});\n    const changeText = (text: string) => onModifyObject({text: text});\n    const changeFont = (font: string) => onModifyObject({font: font});\n    const changeStroke = (stroke: string) => onModifyObject({stroke: stroke});\n    const changeFill = (fill: string) => onModifyObject({fill: fill});\n    return (\n        <Controls title=\"Text Controls\" onHide={onHide}>\n            <form className=\"controls-form\">\n                <Input label=\"x\" type=\"number\" value={String(object.x)} onChange={changeX}/>\n                <Input label=\"y\" type=\"number\" value={String(object.y)} onChange={changeY}/>\n                <Input label=\"text\" type=\"text\" value={String(object.text)} onChange={changeText}/>\n                <Input label=\"font\" type=\"text\" value={String(object.font)} onChange={changeFont}/>\n                <Input label=\"stroke\" type=\"color\" value={String(object.stroke)} onChange={changeStroke}/>\n                <Input label=\"fill\" type=\"color\" value={String(object.fill)} onChange={changeFill}/>\n            </form>\n        </Controls>\n    );\n};\n\nexport default TextControls;","import React, {FC} from \"react\";\nimport Controls from \"./Controls\";\nimport Input from \"./Input\";\nimport {LineState} from \"./CreateLineModal\";\n\ninterface LineControlsProps {\n    object: LineState;\n    onModifyObject: (params: Partial<LineState>) => void;\n    onHide: () => void;\n}\n\nconst LineControls: FC<LineControlsProps> = ({\n                                                 object,\n                                                 onModifyObject,\n                                                 onHide\n                                             }) => {\n    const changeX1 = (x1: string) => onModifyObject({x1: Number(x1)});\n    const changeY1 = (y1: string) => onModifyObject({y1: Number(y1)});\n    const changeX2 = (x2: string) => onModifyObject({x2: Number(x2)});\n    const changeY2 = (y2: string) => onModifyObject({y2: Number(y2)});\n    const changeStroke = (stroke: string) => onModifyObject({stroke: stroke});\n    const changeFill = (fill: string) => onModifyObject({fill: fill});\n    return (\n        <Controls title=\"Line Controls\" onHide={onHide}>\n            <form className=\"controls-form\">\n                <Input label=\"x1\" type=\"number\" value={String(object.x1)} onChange={changeX1}/>\n                <Input label=\"y1\" type=\"number\" value={String(object.y1)} onChange={changeY1}/>\n                <Input label=\"x2\" type=\"number\" value={String(object.x2)} onChange={changeX2}/>\n                <Input label=\"y2\" type=\"number\" value={String(object.y2)} onChange={changeY2}/>\n                <Input label=\"stroke\" type=\"color\" value={String(object.stroke)} onChange={changeStroke}/>\n                <Input label=\"fill\" type=\"color\" value={String(object.fill)} onChange={changeFill}/>\n            </form>\n        </Controls>\n    );\n};\n\nexport default LineControls;","import React, {FC} from \"react\";\nimport Controls from \"./Controls\";\nimport Input from \"./Input\";\nimport {ArcState} from \"./CreateArcModal\";\n\ninterface ArcControlsProps {\n    object: ArcState;\n    onModifyObject: (params: Partial<ArcState>) => void;\n    onHide: () => void;\n}\n\nconst ArcControls: FC<ArcControlsProps> = ({\n                                               object,\n                                               onModifyObject,\n                                               onHide\n                                           }) => {\n    const changeX = (x: string) => onModifyObject({x: Number(x)});\n    const changeY = (y: string) => onModifyObject({y: Number(y)});\n    const changeRadius = (radius: string) => onModifyObject({radius: Number(radius)});\n    const changeStartAngle = (startAngle: string) => onModifyObject({startAngle: Number(startAngle)});\n    const changeEndAngle = (endAngle: string) => onModifyObject({endAngle: Number(endAngle)});\n    const changeAnticlockwise = (anticlockwise: boolean) => onModifyObject({anticlockwise: anticlockwise});\n    const changeStroke = (stroke: string) => onModifyObject({stroke: stroke});\n    const changeFill = (fill: string) => onModifyObject({fill: fill});\n    return (\n        <Controls title=\"Arc Controls\" onHide={onHide}>\n            <form className=\"controls-form\">\n                <Input label=\"x\" type=\"number\" value={String(object.x)} onChange={changeX}/>\n                <Input label=\"y\" type=\"number\" value={String(object.y)} onChange={changeY}/>\n                <Input label=\"radius\" type=\"number\" value={String(object.radius)} onChange={changeRadius}/>\n                <Input label=\"startAngle\" type=\"number\" value={String(object.startAngle)} onChange={changeStartAngle}/>\n                <Input label=\"endAngle\" type=\"number\" value={String(object.endAngle)} onChange={changeEndAngle}/>\n                <Input label=\"anticlockwise\" type=\"checkbox\" value={String(object.anticlockwise)}\n                       onChecked={changeAnticlockwise}/>\n                <Input label=\"stroke\" type=\"color\" value={String(object.stroke)} onChange={changeStroke}/>\n                <Input label=\"fill\" type=\"color\" value={String(object.fill)} onChange={changeFill}/>\n            </form>\n        </Controls>\n    );\n};\n\nexport default ArcControls;","import React, {FC} from \"react\";\n\nimport Input from \"./Input\";\nimport {RectState} from \"./CreateRectModal\";\nimport Controls from \"./Controls\";\n\ninterface RectControlsProps {\n    object: RectState;\n    onModifyObject: (params: Partial<RectState>) => void;\n    onHide: () => void;\n}\n\nconst RectControls: FC<RectControlsProps> = ({\n                                                 object,\n                                                 onModifyObject,\n                                                 onHide\n                                             }) => {\n    const changeX = (x: string) => onModifyObject({x: Number(x)});\n    const changeY = (y: string) => onModifyObject({y: Number(y)});\n    const changeWidth = (width: string) => onModifyObject({width: Number(width)});\n    const changeHeight = (height: string) => onModifyObject({height: Number(height)});\n    const changeStroke = (stroke: string) => onModifyObject({stroke: stroke});\n    const changeFill = (fill: string) => onModifyObject({fill: fill});\n    return (\n        <Controls title=\"Rect Controls\" onHide={onHide}>\n            <form className=\"controls-form\">\n                <Input label=\"x\" type=\"number\" value={String(object.x)} onChange={changeX}/>\n                <Input label=\"y\" type=\"number\" value={String(object.y)} onChange={changeY}/>\n                <Input label=\"width\" type=\"number\" value={String(object.width)} onChange={changeWidth}/>\n                <Input label=\"height\" type=\"number\" value={String(object.height)} onChange={changeHeight}/>\n                <Input label=\"stroke\" type=\"color\" value={object.stroke} onChange={changeStroke}/>\n                <Input label=\"fill\" type=\"color\" value={object.fill} onChange={changeFill}/>\n            </form>\n        </Controls>\n    );\n};\n\nexport default RectControls;","import React, {FC} from \"react\";\n\nimport {RectState} from \"./CreateRectModal\";\nimport {LineState} from \"./CreateLineModal\";\nimport {TextState} from \"./CreateTextModal\";\nimport {ArcState} from \"./CreateArcModal\";\nimport {RenderObjectTypes} from \"../lib/Types\";\nimport TextControls from \"./TextControls\";\nimport LineControls from \"./LineControls\";\nimport ArcControls from \"./ArcControls\";\nimport RectControls from \"./RectControls\";\n\ninterface ControlsSelectorProps {\n    object: RectState | LineState | TextState | ArcState;\n    onModifyObject: (object: Partial<RectState> | Partial<LineState> | Partial<TextState> | Partial<ArcState>) => void;\n    onHide: () => void;\n}\n\nconst ControlsSelector: FC<ControlsSelectorProps> = ({\n                                                         object,\n                                                         onModifyObject,\n                                                         onHide\n                                                     }) => {\n    switch (object.type) {\n        case RenderObjectTypes.TEXT:\n            return <TextControls object={object} onModifyObject={onModifyObject} onHide={onHide}/>;\n        case RenderObjectTypes.LINE:\n            return <LineControls object={object} onModifyObject={onModifyObject} onHide={onHide}/>;\n        case RenderObjectTypes.ARC:\n            return <ArcControls object={object} onModifyObject={onModifyObject} onHide={onHide}/>;\n        case RenderObjectTypes.RECT:\n            return <RectControls object={object} onModifyObject={onModifyObject} onHide={onHide}/>;\n        default:\n            return null;\n    }\n};\n\nexport default ControlsSelector;","import React, {FC, useEffect, useState} from \"react\";\n\nimport {Arc, Canvas, Line, Rect, Text, RenderObjectTypes, EventRenderObject} from \"./lib\";\nimport {CreateRectModal, RectState} from \"./components/CreateRectModal\";\nimport {CreateLineModal, LineState} from \"./components/CreateLineModal\";\nimport {ArcState, CreateArcModal} from \"./components/CreateArcModal\";\nimport {CreateTextModal, TextState} from \"./components/CreateTextModal\";\nimport ControlsSelector from \"./components/ControlsSelector\";\n\nconst App: FC = () => {\n    const [objects, setObjects] = useState<Array<RectState | LineState | ArcState | TextState>>([]);\n    const [selectedObjectIndex, selectObject] = useState<number>();\n    const [createModal, setCreateModal] = useState(\"\");\n    const onSelect = (index: number, canvasObject: EventRenderObject) => {\n        selectObject(index);\n        console.log(canvasObject);\n    };\n    const onModifyObject = (object: object) => {\n        if (selectedObjectIndex !== undefined) {\n            const cloneObjects = [...objects];\n            const selectedObject = cloneObjects[selectedObjectIndex];\n            cloneObjects[selectedObjectIndex] = {...selectedObject, ...object};\n            setObjects(cloneObjects);\n        }\n    };\n    const onCreate = (object: RectState | LineState | ArcState | TextState) => {\n        setObjects([...objects, object]);\n    };\n    const hideModal = () => setCreateModal(\"\");\n    const onHideControls = () => selectObject(undefined);\n    const selectedObject = selectedObjectIndex !== undefined ? objects[selectedObjectIndex] : null;\n    useEffect(() => {\n        if (createModal) {\n            selectObject(undefined);\n        }\n    }, [createModal]);\n    return (\n        <div className=\"app\">\n            <h1>React-Canva</h1>\n            <div className=\"app-buttons\">\n                <button onClick={() => setCreateModal(RenderObjectTypes.RECT)}>Add Rect</button>\n                <button onClick={() => setCreateModal(RenderObjectTypes.LINE)}>Add Line</button>\n                <button onClick={() => setCreateModal(RenderObjectTypes.ARC)}>Add Arc</button>\n                <button onClick={() => setCreateModal(RenderObjectTypes.TEXT)}>Add Text</button>\n            </div>\n            {createModal === RenderObjectTypes.RECT && (\n                <CreateRectModal onCreate={onCreate} onHide={hideModal}/>\n            )}\n            {createModal === RenderObjectTypes.LINE && (\n                <CreateLineModal onCreate={onCreate} onHide={hideModal}/>\n            )}\n            {createModal === RenderObjectTypes.ARC && (\n                <CreateArcModal onCreate={onCreate} onHide={hideModal}/>\n            )}\n            {createModal === RenderObjectTypes.TEXT && (\n                <CreateTextModal onCreate={onCreate} onHide={hideModal}/>\n            )}\n            {selectedObject && (\n                <ControlsSelector object={selectedObject}\n                                  onModifyObject={onModifyObject}\n                                  onHide={onHideControls}/>\n            )}\n            <div className=\"canvas\">\n                <Canvas>\n                    {objects.map((object, index) => {\n                        switch (object.type) {\n                            case RenderObjectTypes.RECT:\n                                return (\n                                    <Rect x={object.x}\n                                          y={object.y}\n                                          width={object.width}\n                                          height={object.height}\n                                          onClick={o => onSelect(index, o)}\n                                          onContextMenu={o => onSelect(index, o)}\n                                          onDoubleClick={o => onSelect(index, o)}\n                                          onMouseDown={o => onSelect(index, o)}\n                                          onMouseMove={o => onSelect(index, o)}\n                                          onMouseUp={o => onSelect(index, o)}\n                                          onPointerDown={o => onSelect(index, o)}\n                                          fill={object.fill}\n                                          stroke={selectedObjectIndex === index ? \"#ff0015\" : \"\"}/>\n                                );\n                            case RenderObjectTypes.LINE:\n                                return (\n                                    <Line x1={object.x1}\n                                          y1={object.y1}\n                                          x2={object.x2}\n                                          y2={object.y2}\n                                          onClick={o => onSelect(index, o)}\n                                          fill={object.fill}\n                                          stroke={selectedObjectIndex === index ? \"#ff0015\" : \"\"}/>\n                                );\n                            case RenderObjectTypes.ARC:\n                                return (\n                                    <Arc x={object.x}\n                                         y={object.y}\n                                         radius={object.radius}\n                                         startAngle={object.startAngle}\n                                         endAngle={object.endAngle}\n                                         onClick={o => onSelect(index, o)}\n                                         fill={object.fill}\n                                         stroke={selectedObjectIndex === index ? \"#ff0015\" : \"\"}/>\n                                );\n                            case RenderObjectTypes.TEXT:\n                                return (\n                                    <Text x={object.x}\n                                          y={object.y}\n                                          text={object.text}\n                                          font={object.font}\n                                          onClick={o => onSelect(index, o)}\n                                          fill={object.fill}\n                                          stroke={selectedObjectIndex === index ? \"#ff0015\" : \"\"}/>\n                                );\n                            default:\n                                return null;\n                        }\n                    })}\n                </Canvas>\n            </div>\n        </div>\n    );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}